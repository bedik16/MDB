#:import Factory kivy.factory.Factory

<MyPopup@Popup>:
    auto_dismiss: False
    title: "Registration Successful !!!"
    size_hint: None, None
    size: 400, 400

    BoxLayout:
        orientation: "vertical"

        BoxLayout:
            orientation: "vertical"
            Label:
                text: "Thank you for your registration !!!"
                multiline: False
                position_hint: None, None
                position: 200, 200
                font_size: 18

            Button:
                text: "Back"
                size_hint_y: .3
                font_size: 24
                on_press: root.dismiss()
                on_release: root.do_cancel()
   
    
<Register>:
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: "background.jpg"

    GridLayout:
        cols: 1
        padding: [10, 10, 10, 10]
        BoxLayout:
            orientation: "vertical"
            Label:
                text: "Registration"
                font_size: 32

        BoxLayout:
            orientation: "horizontal"
            Label:
                size_hint_x: .2
                text: "Name:"
                font_size: 24
                halign: "left"

            TextInput:
                id: name
                size_hint_y: .6
                font_size: 24
                pos_hint: {'top': 0.8}
                multiline: False
                font_size: 18

        BoxLayout:
            orientation: "horizontal"
            Label:
                size_hint_x: .2
                text: "Surname:"
                font_size: 24
                halign: "left"

            TextInput:
                id: surname
                size_hint_y: .6
                font_size: 24
                pos_hint: {'top': 0.8}
                font_size: 18

        BoxLayout:
            orientation: "horizontal"
            Label:
                size_hint_x: .2
                text: "E-mail:"
                font_size: 24
                halign: "left"

            TextInput:
                id: email
                size_hint_y: .6
                font_size: 24
                pos_hint: {'top': 0.8}
                multiline: False
                font_size: 18

        BoxLayout:
            orientation: "horizontal"
            Label:
                size_hint_x: .2
                text: "Phone:"
                font_size: 24
                halign: "left"

            TextInput:
                id: phone
                size_hint_y: .6
                font_size: 24
                pos_hint: {'top': 0.8}
                multiline: False
                font_size: 18

        BoxLayout:
            orientation: "horizontal"
            Label:
                size_hint_x: .2
                text: "Password:"
                font_size: 24
                halign: "left"

            TextInput:
                id: password
                size_hint_y: .6
                font_size: 24
                pos_hint: {'top': 0.8}
                multiline: False
                password: True
                font_size: 18

        BoxLayout:
            orientation: "horizontal"
            spacing: 20
            Button:
                text: "Save"
                font_size: 24
                on_press: root.do_save(name.text, surname.text, email.text, phone.text)  

            Button:
                text: "Cancel"
                font_size: 24
                on_press: root.do_cancel()